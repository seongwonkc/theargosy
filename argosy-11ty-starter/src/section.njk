---
layout: "layouts/base.njk"
pagination:
  data: collections.articles
  size: 10
  alias: pagePosts
permalink: "/section/{{ section | slugify }}/{{ pagination.pageNumber | plus(1) }}/"
eleventyComputed:
  section: "{{ sectionParam }}"
  pagination:
    before: |
      function(data) {
        const section = data.sectionParam;
        const filtered = data.collections.articles.filter(a => (a.data.section || "").toLowerCase() === section.toLowerCase());
        return filtered;
      }
---

<h1>{{ section }}</h1>
<ul style="list-style:none; padding:0;">
  {% for post of pagePosts %}
    <li style="margin-bottom:1rem;">
      <a class="card" href="{{ post.url }}"><strong>{{ post.data.title }}</strong></a><br>
      <span class="muted">{{ post.date | dateReadable }} • {{ post.data.author }}</span>
      {% if post.data.summary %}<div>{{ post.data.summary }}</div>{% endif %}
    </li>
  {% endfor %}
</ul>

{% if pagination.href.previous or pagination.href.next %}
<nav class="muted">
  {% if pagination.href.previous %}<a href="{{ pagination.href.previous }}">← Newer</a>{% endif %}
  {% if pagination.href.next %}<a style="float:right" href="{{ pagination.href.next }}">Older →</a>{% endif %}
</nav>
{% endif %}